(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{5218:function(e,t){"use strict";t.__esModule=!0,t.BoundedPQueue=void 0;var r=function(){function e(e){this.heap=[],this.k=e}return e.prototype.items=function(){return this.heap},e.prototype.parent=function(e){return Math.floor(e/2)},e.prototype.leftChild=function(e){return 2*e+1},e.prototype.rightChild=function(e){return 2*e+2},e.prototype.max=function(){return this.heap[0][0]},e.prototype.maxHeapify=function(e){var t,r=this.leftChild(e),n=this.rightChild(e),a=e;r<this.heap.length&&this.heap[r][0]>this.heap[e][0]&&(a=r),n<this.heap.length&&this.heap[n][0]>this.heap[e][0]&&(a=n),a!=e&&(t=[this.heap[a],this.heap[e]],this.heap[e]=t[0],this.heap[a]=t[1],this.maxHeapify(a))},e.prototype.extractMax=function(){var e=this.heap[0],t=this.heap.pop();return void 0!==t&&this.heap.length>0&&(this.heap[0]=t,this.maxHeapify(0)),e},e.prototype.propagateUp=function(e){for(var t,r=e;0!=r&&this.heap[this.parent(r)][0]<this.heap[r][0];)t=[this.heap[this.parent(r)],this.heap[r]],this.heap[r]=t[0],this.heap[this.parent(r)]=t[1],r=this.parent(r)},e.prototype.heapAppend=function(e,t){this.heap.push([e,t]),this.propagateUp(this.heap.length-1)},e.prototype.add=function(e,t){this.heap.length==this.k?e<this.max()&&(this.extractMax(),this.heapAppend(e,t)):this.heapAppend(e,t)},e}();t.BoundedPQueue=r},8352:function(e,t,r){"use strict";var n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e};t.__esModule=!0,t.KDTree=t.Node=void 0;var a=r(2461),o=r(5218),i=function(){this.next=[]};t.Node=i;var s=function(){function e(e,t){this.points=e,this.dim=t,this.buildTree()}return e.prototype.buildTree=function(){var e=n([],Array(this.points.length)).map(function(e,t){return t});this.root=this.buildTreeRecurse(e,this.points.length,0)},e.prototype.buildTreeRecurse=function(e,t,r){var n=this;if(t<=0)return new i;var o=r%this.dim,s=Math.floor((t-1)/2);a.default(e,s,0,t-1,function(e,t){return n.points[e][o]<n.points[t][o]?-1:n.points[e][o]>n.points[t][o]?1:0});var l=new i;return l.index=e[s],l.axis=o,l.next.push(this.buildTreeRecurse(e,s,r+1)),l.next.push(this.buildTreeRecurse(e.slice(s+1),t-s-1,r+1)),l},e.prototype.knnSearch=function(e,t){var r=new o.BoundedPQueue(t);r=this.knnSearchRecurse(e,this.root,r,t);for(var n=[],a=0;a<r.items().length;a++){var i=r.extractMax();void 0!==i&&n.push(i[1])}return n},e.prototype.distance=function(e,t){for(var r=0,n=0;n<e.length;n++)r+=(e[n]-t[n])*(e[n]-t[n]);return Math.sqrt(r)},e.prototype.knnSearchRecurse=function(e,t,r,n){if(void 0===t)return r;if(void 0!==t.index&&void 0!==t.axis){var a=this.points[t.index],o=this.distance(a,e);r.add(o,t.index);var i=e[t.axis]<a[t.axis]?0:1;r=this.knnSearchRecurse(e,t.next[i],r,n);var s=Math.abs(e[t.axis]-a[t.axis]);(r.items().length<n||s<r.max())&&(r=this.knnSearchRecurse(e,t.next[1-i],r,n))}return r},e}();t.KDTree=s},2461:function(e,t){"use strict";function r(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}t.__esModule=!0,t.default=function(e,t,n,a,o){!function e(t,n,a,o,i){for(;o>a;){if(o-a>600){var s=o-a+1,l=n-a+1,h=Math.log(s),u=.5*Math.exp(2*h/3),c=.5*Math.sqrt(h*u*(s-u)/s)*(l-s/2<0?-1:1),p=Math.max(a,Math.floor(n-l*u/s+c)),d=Math.min(o,Math.floor(n+(s-l)*u/s+c));e(t,n,p,d,i)}var v=t[n],g=a,f=o;for(r(t,a,n),i(t[o],v)>0&&r(t,a,o);g<f;){for(r(t,g,f),g++,f--;0>i(t[g],v);)g++;for(;i(t[f],v)>0;)f--}0===i(t[a],v)?r(t,a,f):r(t,++f,o),f<=n&&(a=f+1),n<=f&&(o=f-1)}}(e,t,n,a,o)}},5561:function(){},2266:function(e,t,r){"use strict";r.d(t,{rd:function(){return x},zH:function(){return b}});var n=r(8078);function a(e,t){return Array.isArray(e)?e.includes(t):e}var o=e=>{let t=e.getBoundingClientRect();return{width:t.width,height:t.height}};function i(){let e=(0,n.useRef)(null),[t,r]=(0,n.useState)({width:1,height:1});(0,n.useLayoutEffect)(()=>{let t=()=>{e.current&&r(o(e.current))};window.addEventListener("resize",t,!1);let n=new ResizeObserver(e=>{let[{contentBoxSize:t}]=e;r({height:t[0].blockSize,width:t[0].inlineSize})});return e.current&&n.observe(e.current),()=>{window.removeEventListener("resize",t,!1),n.disconnect()}},[]);let a=(0,n.useCallback)(()=>{var t,r;let{left:n=1,right:a=1,top:o=1,bottom:i=1}=null!==(r=null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==r?r:{};return{left:n,right:a,top:o,bottom:i}},[]);return[e,t,a]}function s(e,t,r){return e<t?t:e>r?r:e}var l=new class{convert(e,t){let r=this.toHex("#000000"),n=this.hex2rgb(r),a=this.rgb2hsv(n);return"hex"===e?(r=this.toHex(t),n=this.hex2rgb(r),r.startsWith("rgba")&&(n=this.toRgb(r),r=this.rgb2hex(n)),a=this.rgb2hsv(n)):"rgb"===e?(n=t,r=this.rgb2hex(n),a=this.rgb2hsv(n)):"hsv"===e&&(a=t,n=this.hsv2rgb(a),r=this.rgb2hex(n)),{hex:r,rgb:n,hsv:a}}toHex(e){if(e.startsWith("#")){if(4===e.length||5===e.length)return e=e.split("").map((e,t)=>t?t<4?e+e:"f"===e?void 0:e+e:"#").join("");if(7===e.length)return e;if(9===e.length)return e.endsWith("ff")?e.slice(0,7):e}else{let t=document.createElement("canvas").getContext("2d");if(!t)throw Error("2d context not supported or canvas already initialized");return t.fillStyle=e,t.fillStyle}return"#000000"}toRgb(e){var t;let r=null!==(t=e.match(/\d+(\.\d+)?/gu))&&void 0!==t?t:[],[n,a,o,i]=Array.from({length:4}).map((e,t)=>{var n;return s(+(null!==(n=r[t])&&void 0!==n?n:t<3?0:1),0,t<3?255:1)});return{r:n,g:a,b:o,a:i}}toHsv(e){var t;let r=null!==(t=e.match(/\d+(\.\d+)?/gu))&&void 0!==t?t:[],[n,a,o,i]=Array.from({length:4}).map((e,t)=>{var n;return s(+(null!==(n=r[t])&&void 0!==n?n:t<3?0:1),0,t?t<3?100:1:360)});return{h:n,s:a,v:o,a:i}}hex2rgb(e){e=e.slice(1);let[t,r,n,a]=Array.from({length:4}).map((t,r)=>parseInt(e.slice(2*r,2*r+2),16));return{r:t,g:r,b:n,a:a=Number.isNaN(a)?1:a/255}}rgb2hsv(e){let{r:t,g:r,b:n,a:a}=e,o=Math.max(t/=255,r/=255,n/=255),i=o-Math.min(t,r,n);return{h:i?(o===t?(r-n)/i+(r<n?6:0):o===r?2+(n-t)/i:4+(t-r)/i)*60:0,s:o?i/o*100:0,v:100*o,a:a}}hsv2rgb(e){let{h:t,s:r,v:n,a:a}=e,o=~~(t/60),i=t/60-o,s=(n/=100)*(1-(r/=100)),l=n*(1-r*i),h=n*(1-r*(1-i)),u=o%6;return{r:255*[n,l,s,s,h,n][u],g:255*[h,n,n,l,s,s][u],b:255*[s,s,h,n,n,l][u],a:a}}rgb2hex(e){let{r:t,g:r,b:n,a:a}=e,[o,i,s,l]=[t,r,n,a].map((e,t)=>Math.round(t<3?e:255*e).toString(16).padStart(2,"0"));return["#",o,i,s,"ff"===l?void 0:l].join("")}};function h(e){return"touches"in e}var u=(0,n.memo)(e=>{let{onCoordinateChange:t,children:r,disabled:a}=e,[o,{width:l,height:u},c]=i(),p=(0,n.useCallback)(function(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{left:n,top:a}=c();t(r,s(e.clientX-n,0,l),s(e.clientY-a,0,u))},[l,u,c,t]),d=(0,n.useCallback)(e=>{if(!h(e)&&0!==e.button)return;let t=e=>{p(h(e)?e.touches[0]:e)},r=e=>{p(h(e)?e.changedTouches[0]:e,!0),document.removeEventListener(h(e)?"touchmove":"mousemove",t,!1),document.removeEventListener(h(e)?"touchend":"mouseup",r,!1)};t(e),document.addEventListener(h(e)?"touchmove":"mousemove",t,!1),document.addEventListener(h(e)?"touchend":"mouseup",r,!1)},[p]);return n.createElement("div",{ref:o,className:"rcp-interactive",onMouseDown:d,onTouchStart:d,"aria-disabled":a},r)}),c=(0,n.memo)(e=>{let{color:t,disabled:r,onChange:a,onChangeComplete:o}=e,[s,{width:h}]=i(),c=(0,n.useMemo)(()=>({x:t.hsv.a*h}),[t.hsv.a,h]),p=(0,n.useCallback)((e,r)=>{let n=l.convert("hsv",{...t.hsv,a:r/h});a(n),e&&(null==o||o(n))},[t.hsv,h,a,o]),d=(0,n.useMemo)(()=>[t.rgb.r,t.rgb.g,t.rgb.b].join(" "),[t.rgb.r,t.rgb.g,t.rgb.b]),v=(0,n.useMemo)(()=>[d,t.rgb.a].join(" / "),[d,t.rgb.a]);return n.createElement(u,{disabled:r,onCoordinateChange:p},n.createElement("div",{ref:s,style:{background:"linear-gradient(to right, rgb(".concat(d," / 0), rgb(").concat(d," / 1)) top left / auto auto,\n                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px\n                      repeat")},className:"rcp-alpha"},n.createElement("div",{style:{left:c.x,background:"linear-gradient(to right, rgb(".concat(v,"), rgb(").concat(v,")) top left / auto auto,\n                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ").concat(-c.x-4,"px 2px / 12px 12px\n                        repeat")},className:"rcp-alpha-cursor"})))});function p(e,t){return Math.round(e*10**t)/10**t}function d(e){let{r:t,g:r,b:n,a:a}=e,o=[Math.round(t),Math.round(r),Math.round(n)],i=p(a,3);return i<1&&o.push(i),o.join(", ")}function v(e){let{h:t,s:r,v:n,a:a}=e,o=["".concat(Math.round(t),"\xb0"),"".concat(Math.round(r),"%"),"".concat(Math.round(n),"%")],i=p(a,3);return i<1&&o.push(i),o.join(", ")}var g=(0,n.memo)(e=>{let{hideInput:t,color:r,disabled:o,onChange:i,onChangeComplete:s}=e,[h,u]=(0,n.useState)({hex:{value:r.hex,inputted:!1},rgb:{value:d(r.rgb),inputted:!1},hsv:{value:v(r.hsv),inputted:!1}});(0,n.useEffect)(()=>{h.hex.inputted||u(e=>({...e,hex:{...e.hex,value:r.hex}}))},[h.hex.inputted,r.hex]),(0,n.useEffect)(()=>{h.rgb.inputted||u(e=>({...e,rgb:{...e.rgb,value:d(r.rgb)}}))},[h.rgb.inputted,r.rgb]),(0,n.useEffect)(()=>{h.hsv.inputted||u(e=>({...e,hsv:{...e.hsv,value:v(r.hsv)}}))},[h.hsv.inputted,r.hsv]);let c=(0,n.useCallback)(e=>t=>{let{value:r}=t.target;u(t=>({...t,[e]:{...t[e],value:r}})),i("hsv"===e?l.convert("hsv",l.toHsv(r)):"rgb"===e?l.convert("rgb",l.toRgb(r)):l.convert("hex",r))},[i]),p=(0,n.useCallback)(e=>()=>{u(t=>({...t,[e]:{...t[e],inputted:!0}}))},[]),g=(0,n.useCallback)(e=>t=>{let{value:r}=t.target;u(t=>({...t,[e]:{...t[e],inputted:!1}})),null==s||s("hsv"===e?l.convert("hsv",l.toHsv(r)):"rgb"===e?l.convert("rgb",l.toRgb(r)):l.convert("hex",r))},[s]);return n.createElement("div",{className:"rcp-fields"},!a(t,"hex")&&n.createElement("div",{className:"rcp-fields-floor"},n.createElement("div",{className:"rcp-field"},n.createElement("input",{id:"hex",className:"rcp-field-input",readOnly:o,value:h.hex.value,onChange:c("hex"),onFocus:p("hex"),onBlur:g("hex")}),n.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!a(t,"rgb")||!a(t,"hsv"))&&n.createElement("div",{className:"rcp-fields-floor"},!a(t,"rgb")&&n.createElement("div",{className:"rcp-field"},n.createElement("input",{id:"rgb",className:"rcp-field-input",readOnly:o,value:h.rgb.value,onChange:c("rgb"),onFocus:p("rgb"),onBlur:g("rgb")}),n.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!a(t,"hsv")&&n.createElement("div",{className:"rcp-field"},n.createElement("input",{id:"hsv",className:"rcp-field-input",readOnly:o,value:h.hsv.value,onChange:c("hsv"),onFocus:p("hsv"),onBlur:g("hsv")}),n.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))}),f=(0,n.memo)(e=>{let{color:t,disabled:r,onChange:a,onChangeComplete:o}=e,[s,{width:h}]=i(),c=(0,n.useMemo)(()=>({x:t.hsv.h/360*h}),[t.hsv.h,h]),p=(0,n.useCallback)((e,r)=>{let n=l.convert("hsv",{...t.hsv,h:r/h*360});a(n),e&&(null==o||o(n))},[t.hsv,h,a,o]),d=(0,n.useMemo)(()=>[t.hsv.h,"100%","50%"].join(" "),[t.hsv.h]);return n.createElement(u,{disabled:r,onCoordinateChange:p},n.createElement("div",{ref:s,className:"rcp-hue"},n.createElement("div",{style:{left:c.x,backgroundColor:"hsl(".concat(d,")")},className:"rcp-hue-cursor"})))}),m=(0,n.memo)(e=>{let{height:t,color:r,disabled:a,onChange:o,onChangeComplete:s}=e,[h,{width:c}]=i(),p=(0,n.useMemo)(()=>({x:r.hsv.s/100*c,y:(100-r.hsv.v)/100*t}),[r.hsv.s,r.hsv.v,c,t]),d=(0,n.useCallback)((e,n,a)=>{let i=l.convert("hsv",{...r.hsv,s:n/c*100,v:100-a/t*100});o(i),e&&(null==s||s(i))},[r.hsv,c,t,o,s]),v=(0,n.useMemo)(()=>[r.hsv.h,"100%","50%"].join(" "),[r.hsv.h]),g=(0,n.useMemo)(()=>[r.rgb.r,r.rgb.g,r.rgb.b].join(" "),[r.rgb.r,r.rgb.g,r.rgb.b]);return n.createElement(u,{disabled:a,onCoordinateChange:d},n.createElement("div",{ref:h,style:{height:t,backgroundColor:"hsl(".concat(v,")")},className:"rcp-saturation"},n.createElement("div",{style:{left:p.x,top:p.y,backgroundColor:"rgb(".concat(g,")")},className:"rcp-saturation-cursor"})))}),b=(0,n.memo)(e=>{let{height:t=200,hideAlpha:r=!1,hideInput:o=!1,color:i,disabled:s=!1,onChange:l,onChangeComplete:h}=e;return n.createElement("div",{className:"rcp-root rcp"},n.createElement(m,{height:t,color:i,disabled:s,onChange:l,onChangeComplete:h}),n.createElement("div",{className:"rcp-body"},n.createElement("section",{className:"rcp-section"},n.createElement(f,{color:i,disabled:s,onChange:l,onChangeComplete:h}),!r&&n.createElement(c,{color:i,disabled:s,onChange:l,onChangeComplete:h})),(!a(o,"hex")||!a(o,"rgb")||!a(o,"hsv"))&&n.createElement("section",{className:"rcp-section"},n.createElement(g,{hideInput:o,color:i,disabled:s,onChange:l,onChangeComplete:h}))))});function x(e){let[t,r]=(0,n.useState)(l.convert("hex",e));return(0,n.useEffect)(()=>{r(l.convert("hex",e))},[e]),[t,r]}},8416:function(e,t,r){"use strict";r.d(t,{w_:function(){return u}});var n=r(8078),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o=n.createContext&&n.createContext(a),i=["attr","size","title"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return t=>n.createElement(c,s({attr:h({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,h({key:r},t.attr),e(t.child)))}(e.child))}function c(e){var t=t=>{var r,{attr:a,size:o,title:l}=e,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i),c=o||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",s({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:r,style:h(h({color:e.color||t.color},t.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==o?n.createElement(o.Consumer,null,e=>t(e)):t(a)}}}]);