(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7286:function(e,a,t){Promise.resolve().then(t.bind(t,5832)),Promise.resolve().then(t.t.bind(t,8240,23))},5832:function(e,a,t){"use strict";t.d(a,{ColorConvert:function(){return N},ImageConvert:function(){return w},Quantizer:function(){return S}});var r=t(7821),n=t(8078),l=t(2937),s=t(2266),o=t(3164),c=t(959),i=t(8352),d=new Float32Array([.18995,.07176,.23217,.19483,.08339,.26149,.19956,.09498,.29024,.20415,.10652,.31844,.2086,.11802,.34607,.21291,.12947,.37314,.21708,.14087,.39964,.22111,.15223,.42558,.225,.16354,.45096,.22875,.17481,.47578,.23236,.18603,.50004,.23582,.1972,.52373,.23915,.20833,.54686,.24234,.21941,.56942,.24539,.23044,.59142,.2483,.24143,.61286,.25107,.25237,.63374,.25369,.26327,.65406,.25618,.27412,.67381,.25853,.28492,.693,.26074,.29568,.71162,.2628,.30639,.72968,.26473,.31706,.74718,.26652,.32768,.76412,.26816,.33825,.7805,.26967,.34878,.79631,.27103,.35926,.81156,.27226,.3697,.82624,.27334,.38008,.84037,.27429,.39043,.85393,.27509,.40072,.86692,.27576,.41097,.87936,.27628,.42118,.89123,.27667,.43134,.90254,.27691,.44145,.91328,.27701,.45152,.92347,.27698,.46153,.93309,.2768,.47151,.94214,.27648,.48144,.95064,.27603,.49132,.95857,.27543,.50115,.96594,.27469,.51094,.97275,.27381,.52069,.97899,.27273,.5304,.98461,.27106,.54015,.9893,.26878,.54995,.99303,.26592,.55979,.99583,.26252,.56967,.99773,.25862,.57958,.99876,.25425,.5895,.99896,.24946,.59943,.99835,.24427,.60937,.99697,.23874,.61931,.99485,.23288,.62923,.99202,.22676,.63913,.98851,.22039,.64901,.98436,.21382,.65886,.97959,.20708,.66866,.97423,.20021,.67842,.96833,.19326,.68812,.9619,.18625,.69775,.95498,.17923,.70732,.94761,.17223,.7168,.93981,.16529,.7262,.93161,.15844,.73551,.92305,.15173,.74472,.91416,.14519,.75381,.90496,.13886,.76279,.8955,.13278,.77165,.8858,.12698,.78037,.8759,.12151,.78896,.86581,.11639,.7974,.85559,.11167,.80569,.84525,.10738,.81381,.83484,.10357,.82177,.82437,.10026,.82955,.81389,.0975,.83714,.80342,.09532,.84455,.79299,.09377,.85175,.78264,.09287,.85875,.7724,.09267,.86554,.7623,.0932,.87211,.75237,.09451,.87844,.74265,.09662,.88454,.73316,.09958,.8904,.72393,.10342,.896,.715,.10815,.90142,.70599,.11374,.90673,.69651,.12014,.91193,.6866,.12733,.91701,.67627,.13526,.92197,.66556,.14391,.9268,.65448,.15323,.93151,.64308,.16319,.93609,.63137,.17377,.94053,.61938,.18491,.94484,.60713,.19659,.94901,.59466,.20877,.95304,.58199,.22142,.95692,.56914,.23449,.96065,.55614,.24797,.96423,.54303,.2618,.96765,.52981,.27597,.97092,.51653,.29042,.97403,.50321,.30513,.97697,.48987,.32006,.97974,.47654,.33517,.98234,.46325,.35043,.98477,.45002,.36581,.98702,.43688,.38127,.98909,.42386,.39678,.99098,.41098,.41229,.99268,.39826,.42778,.99419,.38575,.44321,.99551,.37345,.45854,.99663,.3614,.47375,.99755,.34963,.48879,.99828,.33816,.50362,.99879,.32701,.51822,.9991,.31622,.53255,.99919,.30581,.54658,.99907,.29581,.56026,.99873,.28623,.57357,.99817,.27712,.58646,.99739,.26849,.59891,.99638,.26038,.61088,.99514,.2528,.62233,.99366,.24579,.63323,.99195,.23937,.64362,.98999,.23356,.65394,.98775,.22835,.66428,.98524,.2237,.67462,.98246,.2196,.68494,.97941,.21602,.69525,.9761,.21294,.70553,.97255,.21032,.71577,.96875,.20815,.72596,.9647,.2064,.7361,.96043,.20504,.74617,.95593,.20406,.75617,.95121,.20343,.76608,.94627,.20311,.77591,.94113,.2031,.78563,.93579,.20336,.79524,.93025,.20386,.80473,.92452,.20459,.8141,.91861,.20552,.82333,.91253,.20663,.83241,.90627,.20788,.84133,.89986,.20926,.8501,.89328,.21074,.85868,.88655,.2123,.86709,.87968,.21391,.8753,.87267,.21555,.88331,.86553,.21719,.89112,.85826,.2188,.8987,.85087,.22038,.90605,.84337,.22188,.91317,.83576,.22328,.92004,.82806,.22456,.92666,.82025,.2257,.93301,.81236,.22667,.93909,.80439,.22744,.94489,.79634,.228,.95039,.78823,.22831,.9556,.78005,.22836,.96049,.77181,.22811,.96507,.76352,.22754,.96931,.75519,.22663,.97323,.74682,.22536,.97679,.73842,.22369,.98,.73,.22161,.98289,.7214,.21918,.98549,.7125,.2165,.98781,.7033,.21358,.98986,.69382,.21043,.99163,.68408,.20706,.99314,.67408,.20348,.99438,.66386,.19971,.99535,.65341,.19577,.99607,.64277,.19165,.99654,.63193,.18738,.99675,.62093,.18297,.99672,.60977,.17842,.99644,.59846,.17376,.99593,.58703,.16899,.99517,.57549,.16412,.99419,.56386,.15918,.99297,.55214,.15417,.99153,.54036,.1491,.98987,.52854,.14398,.98799,.51667,.13883,.9859,.50479,.13367,.9836,.49291,.12849,.98108,.48104,.12332,.97837,.4692,.11817,.97545,.4574,.11305,.97234,.44565,.10797,.96904,.43399,.10294,.96555,.42241,.09798,.96187,.41093,.0931,.95801,.39958,.08831,.95398,.38836,.08362,.94977,.37729,.07905,.94538,.36638,.07461,.94084,.35566,.07031,.93612,.34513,.06616,.93125,.33482,.06218,.92623,.32473,.05837,.92105,.31489,.05475,.91572,.3053,.05134,.91024,.29599,.04814,.90463,.28696,.04516,.89888,.27824,.04243,.89298,.26981,.03993,.88691,.26152,.03753,.88066,.25334,.03521,.87422,.24526,.03297,.8676,.2373,.03082,.86079,.22945,.02875,.8538,.2217,.02677,.84662,.21407,.02487,.83926,.20654,.02305,.83172,.19912,.02131,.82399,.19182,.01966,.81608,.18462,.01809,.80799,.17753,.0166,.79971,.17055,.0152,.79125,.16368,.01387,.7826,.15693,.01264,.77377,.15028,.01148,.76476,.14374,.01041,.75556,.13731,.00942,.74617,.13098,.00851,.73661,.12477,.00769,.72686,.11867,.00695,.71692,.11268,.00629,.7068,.1068,.00571,.6965,.10102,.00522,.68602,.09536,.00481,.67535,.0898,.00449,.66449,.08436,.00424,.65345,.07902,.00408,.64223,.0738,.00401,.63082,.06868,.00401,.61923,.06367,.0041,.60746,.05878,.00427,.5955,.05399,.00453,.58336,.04931,.00486,.57103,.04474,.00529,.55852,.04028,.00579,.54583,.03593,.00638,.53295,.03169,.00705,.51989,.02756,.0078,.50664,.02354,.00863,.49321,.01963,.00955,.4796,.01583,.01055]),u=new Uint8ClampedArray(d.map(e=>Math.floor(255*e))),g=Array(256);for(let e=0;e<g.length;e++){let a=3*e;g[e]=d.subarray(a,a+3)}var p=Array(256);for(let e=0;e<p.length;e++){let a=3*e;p[e]=u.subarray(a,a+3)}var _=new i.KDTree(p,3),h=t(5701),m=t(6272),x=t(5110),v=t.n(x);let b=e=>{let[a,t,r]=e;return"rgb(".concat(a,", ").concat(t,", ").concat(r,")")},j=e=>e.map(b);function f(e){let{className:a,colorStops:t,scaleImage:l,value:s,onChange:o}=e,[c,i]=(0,n.useState)(127),d=(0,n.useMemo)(()=>{if(l)return{"--color-gradient":'url("'.concat(l,'")')};{let e=j(t).join(", ");return{"--color-gradient":"linear-gradient(to right, ".concat(e,")")}}},[t,l]);return(0,r.jsx)("div",{className:"".concat(v().Container," ").concat(null!=a?a:""),children:(0,r.jsx)(h.Range,{label:"Select your value",step:1,min:0,max:255,values:[null!=s?s:c],onChange:e=>{let[a]=e;null==s&&i(a),o&&o(a)},renderTrack:e=>{let{props:a,children:t}=e;return(0,r.jsx)("div",{...a,style:{...a.style,...d},className:v().RangeTrack,children:t})},renderThumb:e=>{let{props:a}=e;return(0,n.createElement)("div",{...a,key:a.key,className:v().Indicator},(0,r.jsx)(m.Ejc,{}))}})})}t(5561);var C=t(8240),k=t.n(C);function N(){let[e,a]=(0,n.useState)(165),t=p[e];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:k().ColorConvert,children:[(0,r.jsxs)("div",{className:k().ColorSelect,children:[(0,r.jsx)(f,{scaleImage:"/grayscale.png",value:e,onChange:a}),(0,r.jsxs)("dl",{className:k().Values,children:[(0,r.jsx)("dt",{children:"normalized:"}),(0,r.jsx)("dd",{children:(e/255).toFixed(9)}),(0,r.jsx)("dt",{children:"rgb:"}),(0,r.jsxs)("dd",{children:["rgb(",e,", ",e,", ",e,")"]}),(0,r.jsx)("dt",{children:"hex:"}),(0,r.jsxs)("dd",{children:["#",e.toString(16).padStart(2,"0"),e.toString(16).padStart(2,"0"),e.toString(16).padStart(2,"0")]})]}),(0,r.jsx)("div",{className:k().Color,style:{background:"rgb(".concat(e,", ").concat(e,", ").concat(e,")")}})]}),(0,r.jsxs)("div",{className:k().ColorSelect,children:[(0,r.jsx)(f,{scaleImage:"/turbo.png",value:e,onChange:a}),(0,r.jsxs)("dl",{className:k().Values,children:[(0,r.jsx)("dt",{children:"normalized:"}),(0,r.jsx)("dd",{children:(e/255).toFixed(9)}),(0,r.jsx)("dt",{children:"rgb:"}),(0,r.jsxs)("dd",{children:["rgb(",t[0],", ",t[1],", ",t[2],")"]}),(0,r.jsx)("dt",{children:"hex:"}),(0,r.jsxs)("dd",{children:["#",t[0].toString(16).padStart(2,"0"),t[1].toString(16).padStart(2,"0"),t[2].toString(16).padStart(2,"0")]})]}),(0,r.jsx)("div",{className:k().Color,style:{background:"rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")")}})]})]})})}function S(){let[e,a]=(0,s.rd)("#4fdd47"),t=(0,n.useMemo)(()=>{let[a,t,r]=[Math.round(e.rgb.r),Math.round(e.rgb.g),Math.round(e.rgb.b)];return p[function(e,a){let t;if(a){t="".concat(e[0],",").concat(e[1],",").concat(e[2]);let r=a.get(t);if(null!=r)return r}let r=_.knnSearch(e,1)[0];return a&&a.set(t,r),r}([a,t,r],void 0)]},[e]);return(0,r.jsxs)("div",{className:k().Quantizer,children:[(0,r.jsxs)("div",{className:k().QuantizeOutput,children:[(0,r.jsx)("div",{className:k().QuantizeColor,style:{background:e.hex}}),(0,r.jsx)("div",{className:k().QuantizeColor,style:{background:"rgb(".concat(t[0],", ").concat(t[1],", ").concat(t[2],")")}})]}),(0,r.jsx)("div",{className:k().PickerContainer,children:(0,r.jsx)(s.zH,{color:e,onChange:a,hideAlpha:!0})})]})}function y(e){let{defaultImageUrl:a,onImageReady:t,dropMessage:s,isLoading:o=!1,imageData:i,enabled:d=!0}=e,u=(0,n.useRef)(null),[g,p]=(0,n.useState)(a),[_,h]=(0,n.useState)(null),[m,x]=(0,n.useState)("input"),v=(0,n.useCallback)(e=>{let a=URL.createObjectURL(e[0]);x("input"),p(a)},[]),{getRootProps:b,getInputProps:j,isDragActive:f}=(0,l.uI)({onDrop:v,accept:{"image/*":[]},multiple:!1});(0,n.useEffect)(()=>{if(u.current||(u.current=new OffscreenCanvas(1,1)),d&&g){let e=u.current,a=new Image;a.onload=()=>{let r=a.naturalWidth,n=a.naturalHeight;e.width=r,e.height=n;let l=e.getContext("2d",{alpha:!1});l.drawImage(a,0,0,r,n),t(g,l.getImageData(0,0,r,n))},a.src=g}},[d,g,t]),(0,n.useEffect)(()=>{if(g)return()=>{g.startsWith("blob:")&&URL.revokeObjectURL(g)}},[g]),(0,n.useEffect)(()=>{if(i&&d){let e=!1;return(async()=>{let a=u.current,{buffer:t,width:r,height:n}=i;a.width=r,a.height=n;let l=a.getContext("2d",{alpha:!1}),s=new ImageData(new Uint8ClampedArray(t),r,n);l.putImageData(s,0,0);let o=await a.convertToBlob();if(!e){let e=URL.createObjectURL(o);x("output"),h(e)}})(),()=>{e=!0}}},[i,d]),(0,n.useEffect)(()=>{if(_)return()=>{_.startsWith("blob:")&&URL.revokeObjectURL(_)}},[_]);let C="input"===m?g:_;return(0,r.jsxs)("div",{className:k().ImageZone,children:[(0,r.jsxs)("div",{...b(),className:k().DropRoot,children:[(0,r.jsx)("input",{...j()}),C?(0,r.jsx)("img",{className:k().Canvas,src:C}):null]}),(0,r.jsx)("div",{className:k().DropMessage,style:{display:f?"block":"none"},children:s}),(0,r.jsx)("div",{className:k().Loading,style:{display:o&&!f?"block":"none"},children:(0,r.jsx)(c.sst,{className:k().Spinner})})]})}function w(){let[e,a]=(0,n.useState)(!1),l=(0,n.useRef)(),[s,c]=(0,n.useState)(null),[i,d]=(0,n.useState)(null),u=(0,n.useCallback)((e,a)=>{c(t=>({id:t?t.id+1:1,source:"turbo",target:"grayscale",imageUrl:e,buffer:a.data.buffer,width:a.width,height:a.height}))},[]),g=(0,n.useCallback)((e,a)=>{c(t=>({id:t?t.id+1:1,source:"grayscale",target:"turbo",imageUrl:e,buffer:a.data.buffer,width:a.width,height:a.height}))},[]);return(0,n.useEffect)(()=>{if(s){var e;return l.current=new Worker(t.tu(new URL(t.p+t.u(586),t.b))),l.current.onmessage=e=>{d(e.data)},null===(e=l.current)||void 0===e||e.postMessage(s),()=>{var e;null===(e=l.current)||void 0===e||e.terminate()}}},[s]),(0,r.jsxs)("div",{className:k().Canvases,children:[(0,r.jsxs)("p",{className:k().Tip,children:["tap or drag & drop"," ",(0,r.jsx)("span",{className:k().ZoneName,children:"Turbo image"}),(0,r.jsx)(o.RiI,{className:k().DownArrow})]}),(0,r.jsxs)("p",{className:k().Tip,children:["tap or drag & drop"," ",(0,r.jsx)("span",{className:k().ZoneName,children:"grayscale image"}),(0,r.jsx)(o.RiI,{className:k().DownArrow})]}),(0,r.jsx)(y,{defaultImageUrl:"/cocktail.depth.jpg",onImageReady:u,dropMessage:"drop to upload Turbo image",imageData:(null==i?void 0:i.target)==="turbo"?i:null,isLoading:s&&"turbo"===s.target&&(null==i?void 0:i.id)!==s.id,enabled:e}),(0,r.jsx)(y,{onImageReady:g,dropMessage:"drop to upload grayscale image",imageData:(null==i?void 0:i.target)==="grayscale"?i:null,isLoading:s&&"grayscale"===s.target&&(null==i?void 0:i.id)!==s.id,enabled:e}),e?null:(0,r.jsxs)("div",{className:k().Blocker,children:[(0,r.jsx)("p",{children:"Demo conversion paused to save CPU."}),(0,r.jsx)("button",{className:k().UnblockButton,onClick:()=>{a(!0)},children:"Enable"})]})]})}},8240:function(e){e.exports={ColorConvert:"page_ColorConvert__7VIoI",ColorSelect:"page_ColorSelect__nUc8H",Color:"page_Color__ya5K5",ImageZone:"page_ImageZone__PkBlf",Values:"page_Values__mm5vZ",Canvas:"page_Canvas__EOoli",CodeBlock:"page_CodeBlock__7_Pgq",Canvases:"page_Canvases__5m9cA",Starter:"page_Starter__FE66H",Description:"page_Description__64yKG",Quantizer:"page_Quantizer__dvOdS",QuantizeColor:"page_QuantizeColor__H4TS9",PickerContainer:"page_PickerContainer__LOs_I",QuantizeOutput:"page_QuantizeOutput__Nxqhh",Tip:"page_Tip__QiWQz",DownArrow:"page_DownArrow__UDRyL",ZoneName:"page_ZoneName__phrJJ",DropMessage:"page_DropMessage__lNFE8",Loading:"page_Loading__k4mIw",Spinner:"page_Spinner__AQC8Q",spin:"page_spin__OXxwq",DropRoot:"page_DropRoot__Q5OMd",Blocker:"page_Blocker__rPLYP",UnblockButton:"page_UnblockButton__LgsPm"}},5110:function(e){e.exports={Container:"ColorSlider_Container__fbcvW",RangeTrack:"ColorSlider_RangeTrack__k6ZoD",Indicator:"ColorSlider_Indicator__ZutBx"}}},function(e){e.O(0,[839,947,467,491,79,115,364,744],function(){return e(e.s=7286)}),_N_E=e.O()}]);